# 移动端使用指南

本文档说明植树问题AI学习平台在移动端的使用方法和优化特性。

## 📱 移动端特性

### 🌳 拖拽交互优化
- **触摸拖拽**: 支持手指拖拽树木到种植点
- **自动吸附**: 树木会自动吸附到最近的种植点
- **视觉反馈**: 拖拽时有缩放动画效果
- **边界限制**: 防止树木拖拽到区域外

### 🗑️ 删除操作
- **长按删除**: 长按树木800ms后弹出确认对话框
- **确认机制**: 防止误删，需要用户确认

### 💬 聊天界面优化
- **自动滚动**: 输入时自动滚动到输入框位置
- **防止缩放**: 输入框字体大小优化，防止iOS自动缩放
- **触摸优化**: 发送按钮支持触摸事件，防止双重触发
- **消息宽度**: 移动端消息宽度增加到90%

### 🎛️ 界面适配
- **响应式布局**: 参数设置在移动端改为单列布局
- **按钮优化**: 控制按钮在移动端改为全宽度垂直排列
- **字体调整**: 移动端字体大小适当调整
- **间距优化**: 移动端间距和内边距优化

## 📐 屏幕适配

### 中等屏幕 (≤767px)
- 拖拽区域高度: 250px
- 树木图标大小: 20px
- 聊天历史高度: 200px
- 消息最大宽度: 90%

### 小屏幕 (≤374px)
- 拖拽区域高度: 200px
- 树木图标大小: 18px
- 聊天历史高度: 150px
- 输入框字体: 16px（防止iOS缩放）

## 🎮 操作指南

### 添加和摆放树木
1. 点击"🌳 添加树木"按钮
2. 用手指拖拽新出现的树木
3. 将树木拖拽到地面线段上的绿色圆点
4. 松开手指，树木会自动吸附到最近的种植点

### 删除树木
1. 长按要删除的树木（约0.8秒）
2. 在弹出的确认对话框中点击"确定"
3. 树木将被删除

### AI对话
1. 确保已放置至少一棵树木
2. 在输入框中输入问题
3. 点击"发送"按钮或按回车键
4. 等待AI回复
5. 可以选择"继续提问"或"新的问题"

### 参数调整
1. 在"参数设置"区域调整地面长度和间距
2. 选择种树模式
3. 点击"更新地面"应用新参数
4. 点击"清空重置"恢复默认设置

## 🔧 技术特性

### 触摸事件支持
- `touchstart`: 开始拖拽
- `touchmove`: 拖拽移动
- `touchend`: 结束拖拽
- `passive: false`: 防止默认滚动行为

### 性能优化
- `touch-action: none`: 防止触摸时的默认行为
- 事件防抖: 防止重复触发
- 内存管理: 及时清理事件监听器

### 兼容性
- iOS Safari 12+
- Android Chrome 70+
- 微信内置浏览器
- 支付宝内置浏览器

## 🐛 常见问题

### Q: 拖拽不灵敏怎么办？
A: 确保手指直接接触树木图标，避免在边缘区域操作。

### Q: 树木无法删除？
A: 长按时间需要达到0.8秒，确保手指不要移动。

### Q: 输入框被键盘遮挡？
A: 系统会自动滚动到输入框位置，如果仍有问题请手动滚动。

### Q: AI回复很慢？
A: 这是正常现象，AI需要时间处理和生成回复，请耐心等待。

### Q: 页面显示异常？
A: 尝试刷新页面，或者切换到横屏模式。

## 💡 使用技巧

1. **横屏使用**: 在较小的手机上，横屏使用体验更好
2. **网络环境**: 确保网络连接稳定，AI功能需要网络支持
3. **浏览器选择**: 推荐使用Chrome、Safari等现代浏览器
4. **清理缓存**: 如遇到问题，可尝试清理浏览器缓存

---

**注意**: 移动端功能与桌面端完全一致，只是交互方式有所不同。如有问题请参考桌面端使用说明。
